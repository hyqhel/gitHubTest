<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sample.hello.dao.ItemMapper">  <!--这个和我们的dao接口类的名称相同-->


<resultMap id="BaseResultMap" type="sample.hello.bean.business.SubjectAndItem" >
    <result column="onlineItemItemId" property="itemId" jdbcType="VARCHAR" />
    <result column="onlineSubjectsubjectId" property="subjectId" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap type="sample.hello.bean.Items" id="BaseResultItems">
	<result column="itemId" property="itemId" jdbcType="VARCHAR"/>
	<result column="itemContent" property="itemContent" jdbcType="VARCHAR"/>
</resultMap>
  
  <insert id="AddSubjectAndItem" parameterType="sample.hello.bean.business.SubjectAndItem">
  INSERT INTO `testaa`.`onelinesubjectitem` 
	(`onlineItemItemId`, 
	`onlineSubjectsubjectId`
	)
	VALUES
	( #{itemId},#{subjectId});
  </insert>
  
  <insert id="AddItem" parameterType="sample.hello.bean.Items">
  INSERT INTO `testaa`.`onlineitem` 
	(`ItemId`, 
	`itemContent`
	)
	VALUES
	( #{itemId},#{content});
  </insert>
   <select id="queryItemsBySubjectId" parameterType="java.lang.String" resultMap="BaseResultItems">
  	  select i.itemId, i.itemContent from onlineitem i,onelinesubjectitem r
  	  where i.itemId = r.itemId and r.subjectId=#{subjectId};
  </select>
  
</mapper>